- name: snakemake

  on:
    push:
      branches:
        - main
    pull_request:
      branches_ignore: []

  uses: snakemake/snakemake-github-action@v1.23.0
  with:
    directory: '.test'
    snakefile: 'workflow/Snakefile'
    args: '--cores 4 --use-conda --conda-cleanup-pkgs cache'
    submodules: True
    stagein: '' # additional preliminary commands to run (can be multiline)